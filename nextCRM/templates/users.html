  {% extends "base.html" %}
  {% load staticfiles %}
  {% block js %}
      {{ block.super }}
  {% endblock %}
  {% block head %}
  <title>Users</title>{% endblock %}
  {% block title %}Users{% endblock %}


{% block content %}
{% block header %}
	<script>
		$(document).ready(function () {
			$('table').DataTable({
				"pagingType": "full_numbers",
				"searching": false,
				"lengthMenu": [5, 10, 15, 25, 50],
				responsive: true
			});
		});
	</script>
{% endblock %}

{% if request.user.is_authenticated %}
  <div class="content-wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
            <header>
 			    <h1>Users</h1>
 		    </header>

		    <table cellspacing="1" class="table table-striped table-bordered">
      <thead class="thead-light">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Username</th>
			<th scope="col">E-mail address</th>
		{% if request.user.is_superuser %}
          <th scope="col">Actions</th>
			{% endif %}
        </tr>
      </thead>
      <tbody>
               <form method="get" class="form-inline my-2 my-lg-0 mr-lg-2">
            <div class="input-group">
              <input class="form-control" type="text" placeholder="Search for...">
              <span class="input-group-btn">
                <button class="btn btn-primary" type="submit">
                  <i class="fa fa-search"></i>
                </button>
              </span>
            </div>
          </form>
{% for user in users %}
        <tr>
          <td scope="row">{{ forloop.counter }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
			{% if request.user.is_superuser %}
			<td>
				<a href="{% url 'update_user' pk=user.pk %}"><button class="btn btn-sm btn-default">Edit</button></a>
				<a href="{% url 'delete_user' pk=user.pk %}"><button class="btn btn-sm btn-danger">Delete</button></a>
			</td>
			{% endif %}
        </tr>
{% endfor %}
      </tbody>
</table>

	</div>
{% endif %}
{% endblock %}